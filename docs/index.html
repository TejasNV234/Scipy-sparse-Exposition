<!DOCTYPE html>
<html lang="en">

<head>
    <title>Efficient Sparse Matrices with Scipy</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #333;
        }
        pre {
            background: #333;
            color: #fff;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        code {
            font-family: "Courier New", monospace;
        }
    </style>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
</head>

<body>
    
<div class="container">
        <h1>Efficient Sparse Matrices with Scipy</h1>

        <h2>Introduction</h2>
            <p>Efficient storage and computation are critical when dealing with large datasets. <strong>SciPy’s sparse module (<code>scipy.sparse</code>)</strong> provides specialized data structures and algorithms for handling sparse matrices—matrices that contain mostly zero values.</p>

        <h2>Installation and Setup</h2>
            <pre><code class="language-python">pip install scipy</code></pre>
            <p>Then you can import the sparse modules</p>
            <pre><code class="language-python">from scipy.sparse import ...</code></pre>

        <h2>What are Sparse Matrices</h2>
            <p>Sparse matrices are matrices where most elements are zero. Instead of storing every element, sparse matrices store only non-zero values and their positions.</p>

     <h2>Compressed Sparse Row (CSR) Format</h2>
    <p>CSR is very efficient for row based operations, such as slicing and matrix multiplication.</p>
    <p>Storage Structure:</p>

    <ul>
    <li><strong>Data</strong>: Stores the non-zero values.
    <li><strong>Column indices</strong>: Stores the column indices where values appear.
    <li><strong>Row Pointers</strong>: Stores the start position of the non-zero values
    </ul>
    <p>Delving deeper we see that if:</p>
    <pre><code class="language-python" style="white-space: pre;">
Array = [0, 0, 3]
        [4, 0, 0]
        [0, 5, 0]
    </code></pre>
    <p>Then scipy stores the below three info:<br>
(Though Oversimplified it helps to think in this manner)
    </p>
    <pre><code class="language-python">
Values = [3, 4, 5]
Column Indices = [2, 0, 1]
Row Vector = [0, 1, 2, 3]
    </code></pre>
    <p>The way the program accesses data is: </p>
    <pre><code class="language-python">
Array[0:1] = [3]    # First Row Element
Array[1:2] = [4]    # Second Row Element
Array[2:3] = [5]    # Third Row Element
    </code></pre>
    <p>Since we already know the column indices, we reconstruct the matrix efficiently.</p>
    <h2>2. Compressed Sparse Column (CSC)</h2>
    <p>Similar to CSR but stores data column-wise.</p>
    <pre><code class="language-python">
Values:           [4, 5, 3]
Row Indices:      [1, 2, 0]
Column Pointers:  [0, 1, 2, 3]
    </code></pre>

    <h2>3. Coordinate List (COO)</h2>
    <p>Stores matrix elements as a list of (row, column, value) tuples.</p>
    <pre><code class="language-python">
(row, col): value
(0, 2): 3
(1, 0): 4
(2, 1): 5
    </code></pre>

    <h2>4. Dictionary of Keys (DOK)</h2>
    <p>Stores non-zero elements as a dictionary.</p>
    <pre><code class="language-python">
{
    (0, 2): 3,
    (1, 0): 4,
    (2, 1): 5
}
    </code></pre>

    <h2>5. List of Lists (LIL)</h2>
    <p>Stores each row as a list of column-value pairs.</p>
    <pre><code class="language-python">
[
    [ (2, 3) ],    # Row 0
    [ (0, 4) ],    # Row 1
    [ (1, 5) ]     # Row 2
]
    </code></pre>

    <h2>6. Block Sparse Row (BSR)</h2>
    <p>BSR stores non-zero values in blocks rather than individual elements. It is useful for structured matrices, such as those in physics and engineering simulations.</p>
    <pre><code class="language-python">
Matrix = [1, 2, 0, 0]
         [3, 4, 0, 0]
         [0, 0, 5, 6]
         [0, 0, 7, 8]

Blocks:
    [
        [[1, 2], [3, 4]],  # Block (0,0)
        [[5, 6], [7, 8]]   # Block (1,1)
    ]

Block Indices:  [0, 1]      # Just like Row Indice and Column Pointer
Block Pointers: [0, 1, 2]
    </code></pre>
</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

</body>

</html>
